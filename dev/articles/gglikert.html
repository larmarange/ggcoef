<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Plot Likert-type items with `gglikert()` • ggstats</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Plot Likert-type items with `gglikert()`">
<meta property="og:description" content="ggstats">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ggstats</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.3.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/ggcoef_model.html">Plot model coefficients with `ggcoef_model()`</a>
    </li>
    <li>
      <a href="../articles/gglikert.html">Plot Likert-type items with `gglikert()`</a>
    </li>
    <li>
      <a href="../articles/stat_cross.html">Compute cross-tabulation statistics with `stat_cross()`</a>
    </li>
    <li>
      <a href="../articles/stat_prop.html">Compute custom proportions with `stat_prop()`</a>
    </li>
    <li>
      <a href="../articles/stat_weighted_mean.html">Compute weighted mean with `stat_weighted_mean()`</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/larmarange/ggstats/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Plot Likert-type items with
<code>gglikert()</code>
</h1>
                        <h4 data-toc-skip class="author">Joseph
Larmarange</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/larmarange/ggstats/blob/HEAD/vignettes/gglikert.Rmd" class="external-link"><code>vignettes/gglikert.Rmd</code></a></small>
      <div class="hidden name"><code>gglikert.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://larmarange.github.io/ggstats/">ggstats</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></code></pre></div>
<p>The purpose of <code><a href="../reference/gglikert.html">gglikert()</a></code> is to generate a centered bar
plot comparing the answers of several questions sharing a common
Likert-type scale.</p>
<div class="section level2">
<h2 id="generating-an-example-dataset">Generating an example dataset<a class="anchor" aria-label="anchor" href="#generating-an-example-dataset"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">likert_levels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"Strongly disagree"</span>,</span>
<span>  <span class="st">"Disagree"</span>,</span>
<span>  <span class="st">"Neither agree nor disagree"</span>,</span>
<span>  <span class="st">"Agree"</span>,</span>
<span>  <span class="st">"Strongly agree"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>    q1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">likert_levels</span>, <span class="fl">150</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    q2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">likert_levels</span>, <span class="fl">150</span>, replace <span class="op">=</span> <span class="cn">TRUE</span>, prob <span class="op">=</span> <span class="fl">5</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>    q3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">likert_levels</span>, <span class="fl">150</span>, replace <span class="op">=</span> <span class="cn">TRUE</span>, prob <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>,</span>
<span>    q4 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">likert_levels</span>, <span class="fl">150</span>, replace <span class="op">=</span> <span class="cn">TRUE</span>, prob <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>,</span>
<span>    q5 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">likert_levels</span>, <span class="cn">NA</span><span class="op">)</span>, <span class="fl">150</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    q6 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">likert_levels</span>, <span class="fl">150</span>, replace <span class="op">=</span> <span class="cn">TRUE</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span>, <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">.x</span>, levels <span class="op">=</span> <span class="va">likert_levels</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">likert_levels_dk</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"Strongly disagree"</span>,</span>
<span>  <span class="st">"Disagree"</span>,</span>
<span>  <span class="st">"Neither agree nor disagree"</span>,</span>
<span>  <span class="st">"Agree"</span>,</span>
<span>  <span class="st">"Strongly agree"</span>,</span>
<span>  <span class="st">"Don't know"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">df_dk</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>    q1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">likert_levels_dk</span>, <span class="fl">150</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    q2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">likert_levels_dk</span>, <span class="fl">150</span>, replace <span class="op">=</span> <span class="cn">TRUE</span>, prob <span class="op">=</span> <span class="fl">6</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>    q3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">likert_levels_dk</span>, <span class="fl">150</span>, replace <span class="op">=</span> <span class="cn">TRUE</span>, prob <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span>,</span>
<span>    q4 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">likert_levels_dk</span>, <span class="fl">150</span>, replace <span class="op">=</span> <span class="cn">TRUE</span>, prob <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span>,</span>
<span>    q5 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">likert_levels_dk</span>, <span class="cn">NA</span><span class="op">)</span>, <span class="fl">150</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    q6 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span></span>
<span>      <span class="va">likert_levels_dk</span>, <span class="fl">150</span>,</span>
<span>      replace <span class="op">=</span> <span class="cn">TRUE</span>, prob <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span>, <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">.x</span>, levels <span class="op">=</span> <span class="va">likert_levels_dk</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="quick-plot">Quick plot<a class="anchor" aria-label="anchor" href="#quick-plot"></a>
</h2>
<p>Simply call <code><a href="../reference/gglikert.html">gglikert()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<p>The list of variables to plot (all by default) could by specify with
<code>include</code>. This argument accepts tidy-select syntax.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span><span class="va">df</span>, include <span class="op">=</span> <span class="va">q1</span><span class="op">:</span><span class="va">q3</span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="customizing-the-plot">Customizing the plot<a class="anchor" aria-label="anchor" href="#customizing-the-plot"></a>
</h2>
<p>The generated plot is a standard <code>ggplot2</code> object. You can
therefore use <code>ggplot2</code> functions to custom many aspects.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"A Likert-type items plot"</span>, subtitle <span class="op">=</span> <span class="st">"generated with gglikert()"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_fill_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"RdYlBu"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Scale for <span style="color: #00BB00;">fill</span> is already present.</span></span>
<span><span class="co">#&gt; Adding another scale for <span style="color: #00BB00;">fill</span>, which will replace the existing scale.</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<div class="section level3">
<h3 id="sorting-the-questions">Sorting the questions<a class="anchor" aria-label="anchor" href="#sorting-the-questions"></a>
</h3>
<p>You can sort the plot with <code>sort</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span><span class="va">df</span>, sort <span class="op">=</span> <span class="st">"ascending"</span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<p>By default, the plot is sorted based on the proportion being higher
than the center level, i.e. in this case the proportion of answers equal
to “Agree” or “Strongly Agree”. Alternatively, the questions could be
transformed into a score and sorted accorded to their mean.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span><span class="va">df</span>, sort <span class="op">=</span> <span class="st">"ascending"</span>, sort_method <span class="op">=</span> <span class="st">"mean"</span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="sorting-the-answers">Sorting the answers<a class="anchor" aria-label="anchor" href="#sorting-the-answers"></a>
</h3>
<p>You can reverse the order of the answers with
<code>reverse_likert</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span><span class="va">df</span>, reverse_likert <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="proportion-labels">Proportion labels<a class="anchor" aria-label="anchor" href="#proportion-labels"></a>
</h3>
<p>Proportion labels could be removed with
<code>add_labels = FALSE</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span><span class="va">df</span>, add_labels <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
<p>or customized.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  labels_size <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  labels_accuracy <span class="op">=</span> <span class="fl">.1</span>,</span>
<span>  labels_hide_below <span class="op">=</span> <span class="fl">.2</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="totals-on-each-side">Totals on each side<a class="anchor" aria-label="anchor" href="#totals-on-each-side"></a>
</h3>
<p>By default, totals are added on each side of the plot. In case of an
uneven number of answer levels, the central level is not taken into
account for computing totals. With
<code>totals_include_center = TRUE</code>, half of the proportion of the
central level will be added on each side.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  totals_include_center <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sort <span class="op">=</span> <span class="st">"descending"</span>,</span>
<span>  sort_prop_include_center <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
<p>Totals could be customized.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span><span class="va">df</span>, totals_size <span class="op">=</span> <span class="fl">4</span>, totals_fontface <span class="op">=</span> <span class="st">"italic"</span>, totals_hjust <span class="op">=</span> <span class="fl">.20</span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-12-1.png" width="700"></p>
<p>Or removed.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span><span class="va">df</span>, add_totals <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-13-1.png" width="700"></p>
</div>
</div>
<div class="section level2">
<h2 id="variable-labels">Variable labels<a class="anchor" aria-label="anchor" href="#variable-labels"></a>
</h2>
<p>If you are using variable labels (see
<code><a href="https://larmarange.github.io/labelled/reference/var_label.html" class="external-link">labelled::set_variable_labels()</a></code>), they will be taken
automatically into account by <code><a href="../reference/gglikert.html">gglikert()</a></code>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://larmarange.github.io/labelled/" class="external-link">labelled</a></span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://larmarange.github.io/labelled/reference/var_label.html" class="external-link">set_variable_labels</a></span><span class="op">(</span></span>
<span>      q1 <span class="op">=</span> <span class="st">"first question"</span>,</span>
<span>      q2 <span class="op">=</span> <span class="st">"second question"</span>,</span>
<span>      q3 <span class="op">=</span> <span class="st">"this is the third question with a quite long variable label"</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; Loading required package: labelled</span></span>
<span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-14-1.png" width="700"></p>
<p>You can also provide custom variable labels with
<code>variable_labels</code>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  variable_labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    q1 <span class="op">=</span> <span class="st">"alternative label for the first question"</span>,</span>
<span>    q6 <span class="op">=</span> <span class="st">"another custom label"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-15-1.png" width="700"></p>
<p>You can control how variable labels are wrapped with
<code>y_label_wrap</code>.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span><span class="va">df</span>, y_label_wrap <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-16-1.png" width="700"></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span><span class="va">df</span>, y_label_wrap <span class="op">=</span> <span class="fl">200</span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-16-2.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="removing-certain-values">Removing certain values<a class="anchor" aria-label="anchor" href="#removing-certain-values"></a>
</h2>
<p>Sometimes, the dataset could contain certain values that you should
not be displayed.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span><span class="va">df_dk</span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-17-1.png" width="700"></p>
<p>A first option could be to convert the don’t knows into
<code>NA</code>. In such case, the proportions will be computed on non
missing.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_dk</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span>, <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">.x</span>, levels <span class="op">=</span> <span class="va">likert_levels</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-18-1.png" width="700"></p>
<p>Or, you could use <code>exclude_fill_values</code> to not display
specific values, but still counting them in the denominator for
computing proportions.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_dk</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span>exclude_fill_values <span class="op">=</span> <span class="st">"Don't know"</span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-19-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="facets">Facets<a class="anchor" aria-label="anchor" href="#facets"></a>
</h2>
<p>To define facets, use <code>facet_rows</code> and/or
<code>facet_cols</code>.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_group</span> <span class="op">&lt;-</span> <span class="va">df</span></span>
<span><span class="va">df_group</span><span class="op">$</span><span class="va">group1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span><span class="op">)</span>, <span class="fl">150</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">df_group</span><span class="op">$</span><span class="va">group2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span>, <span class="fl">150</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span><span class="va">df_group</span>,</span>
<span>  <span class="va">q1</span><span class="op">:</span><span class="va">q6</span>,</span>
<span>  facet_cols <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">group1</span><span class="op">)</span>,</span>
<span>  labels_size <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-20-1.png" width="700"></p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span><span class="va">df_group</span>,</span>
<span>  <span class="va">q1</span><span class="op">:</span><span class="va">q2</span>,</span>
<span>  facet_rows <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">group1</span>, <span class="va">group2</span><span class="op">)</span>,</span>
<span>  labels_size <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-20-2.png" width="700"></p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span><span class="va">df_group</span>,</span>
<span>  <span class="va">q3</span><span class="op">:</span><span class="va">q6</span>,</span>
<span>  facet_cols <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">group1</span><span class="op">)</span>,</span>
<span>  facet_rows <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">group2</span><span class="op">)</span>,</span>
<span>  labels_size <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span></span>
<span>    labels <span class="op">=</span> <span class="fu"><a href="../reference/label_number_abs.html">label_percent_abs</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    expand <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/expansion.html" class="external-link">expansion</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">.2</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-20-3.png" width="700"></p>
<p>To compare answers by subgroup, you can alternatively map
<code>.question</code> to facets, and define a grouping variable for
<code>y</code>.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span><span class="va">df_group</span>,</span>
<span>  <span class="va">q1</span><span class="op">:</span><span class="va">q4</span>,</span>
<span>  y <span class="op">=</span> <span class="st">"group1"</span>,</span>
<span>  facet_rows <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">.question</span><span class="op">)</span>,</span>
<span>  labels_size <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  facet_label_wrap <span class="op">=</span> <span class="fl">15</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-21-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="stacked-plot">Stacked plot<a class="anchor" aria-label="anchor" href="#stacked-plot"></a>
</h2>
<p>For a more classical stacked bar plot, you can use
<code><a href="../reference/gglikert.html">gglikert_stacked()</a></code>.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gglikert.html">gglikert_stacked</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-22-1.png" width="700"></p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/gglikert.html">gglikert_stacked</a></span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  sort <span class="op">=</span> <span class="st">"asc"</span>,</span>
<span>  add_median_line <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  add_labels <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-22-2.png" width="700"></p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/gglikert.html">gglikert_stacked</a></span><span class="op">(</span></span>
<span>  <span class="va">df_group</span>,</span>
<span>  include <span class="op">=</span> <span class="va">q1</span><span class="op">:</span><span class="va">q4</span>,</span>
<span>  y <span class="op">=</span> <span class="st">"group2"</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html" class="external-link">facet_grid</a></span><span class="op">(</span></span>
<span>    rows <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">.question</span><span class="op">)</span>,</span>
<span>    labeller <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labellers.html" class="external-link">label_wrap_gen</a></span><span class="op">(</span><span class="fl">15</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-22-3.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="long-format-dataset">Long format dataset<a class="anchor" aria-label="anchor" href="#long-format-dataset"></a>
</h2>
<p>Internally, <code><a href="../reference/gglikert.html">gglikert()</a></code> is calling
<code><a href="../reference/gglikert.html">gglikert_data()</a></code> to generate a long format dataset combining
all questions into two columns, <code>.question</code> and
<code>.answer</code>.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gglikert.html">gglikert_data</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 3</span></span></span>
<span><span class="co">#&gt;   .weights .question                                                   .answer  </span></span>
<span><span class="co">#&gt;      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>                                                       <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>        1 first question                                              Strongly…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>        1 second question                                             Disagree </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>        1 this is the third question with a quite long variable label Agree    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>        1 q4                                                          Disagree </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>        1 q5                                                          Strongly…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>        1 q6                                                          Strongly…</span></span></code></pre></div>
<p>Such dataset could be useful for other types of plot, for example for
a classic stacked bar plot.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="../reference/gglikert.html">gglikert_data</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">.question</span>, fill <span class="op">=</span> <span class="va">.answer</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"fill"</span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-24-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="weighted-data">Weighted data<a class="anchor" aria-label="anchor" href="#weighted-data"></a>
</h2>
<p><code><a href="../reference/gglikert.html">gglikert()</a></code>, <code><a href="../reference/gglikert.html">gglikert_stacked()</a></code> and
<code><a href="../reference/gglikert.html">gglikert_data()</a></code> accepts a <code>weights</code> argument,
allowing to specify statistical weights.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">sampling_weights</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/gglikert.html">gglikert</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">q1</span><span class="op">:</span><span class="va">q4</span>, weights <span class="op">=</span> <span class="va">sampling_weights</span><span class="op">)</span></span></code></pre></div>
<p><img src="gglikert_files/figure-html/unnamed-chunk-25-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a>
</h2>
<p>The function <code><a href="../reference/position_likert.html">position_likert()</a></code> used to center bars.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="http://joseph.larmarange.net/" class="external-link">Joseph Larmarange</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
